"use strict";

var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; })();

/*Статический метод: 
  не привязывается к конкретному экземпляру класса
  записывается в Конструктор

  существует у всех экземпляров класса!
  работает со всеми экземплярами класса

  Можно использовать для функций которые не требуют наличия объекта  



  Удобно применять для: 
    - общих действий с объектами данного типа (подсчеты)
    - методы не привязанные к конкретному экземпляру
    - вспомогательные методы
    - фабричные методы

  */

function Article() {
  Article.count++;
}
Article.count = 0; //static property
Article.DEFAULT_FORMAT = 'html'; //static constant value

Article.showCount = function () {
  return this.count;
};

// define compare function for Journal date

function Journal(date) {
  this.date = date;
}

Journal.compareByDate = function (one, another) {
  return one.date === another.date;
};

j1 = new Journal(new Date(1999, 1, 1));
j2 = new Journal(new Date(1999, 1, 1));

Journal.compare(j1, j2);

Journal.formatDate = function (date) {
  //month + 1 because journal is for the next month)
  return date.getDate() + "." + (date.getMonth() + 1) + "." + date.getFullYear();
};

//no objects creation, simply format current data
console.log(Journal.formatDate(new Date()));

/*Фабричные статический метод:
  
  служит для создания новых объектов (фабрика)
  удобная альтернатива полиморфному конструктору
  (возврат разных объектов в зависимости от типа входных данных)
*/

/*полиморфный конструктор. Плюсы:
использовать где нужна полиморфность 
(тип входящих данных заранее неизвестен)
*/
function User(data) {
  if (data) {
    this.name = data.name;
    this.age = data.age;
  } else {
    this.name = "Anonymous";
  }

  this.sayHi = function () {
    console.log(this.name);
  };
}
var knownUser = new User({
  name: "Tom",
  age: "16"
});
knownUser.sayHi(); //Tom

var guest = new User();
guest.sayHi(); //Anonymous

/*фабричный метод. Плюсы:
лучше читаемость (вместо одной сложной ф-ции - несколько простых)
лучше контроль ошибок
лучше расширяемость (проще добавить другой тип данных) ? 
*/

function FabricUser(data) {
  this.sayHi = function () {
    console.log(this.name);
  };
}

FabricUser.createKnownUser = function (data) {
  var user = new FabricUser(); // !!! not call constructor

  var _data = _slicedToArray(data, 2);

  user.name = _data[0];
  user.age = _data[1];

  return user;
};

FabricUser.createAnonymousUser = function () {
  var user = new FabricUser(); //create instance of Class to get all attributes
  user.name = "Anonymous";
  return user;
};

var knownUser = new FabricUser.createKnownUser({
  name: "Tom",
  age: "16"
});
knownUser.sayHi(); //Tom

var guest = new FabricUser.createAnonymousUser()();
guest.sayHi(); //Anonymous

/*Задача 1

Добавить в конструктор Article:

Подсчёт общего количества созданных объектов.
Запоминание даты последнего созданного объекта.
Используйте для этого статические свойства.

Пусть вызов Article.showStats() выводит то и другое.
*/

function Article() {
  this.created = new Date();
  Article.count++; //count each article and store in static prop
  Article.allDates.push(this.created);
}

// Init static help properties
Article.count = 0;
Article.allDates = [];

//init static methods
Article.countTotal = function () {
  return this.count; //this === Constructor
};

Article.getLastDate = function () {
  return this.allDates[this.allDates.length - 1];
};

Article.showStats = function () {
  return 'Всего: ' + this.countTotal() + ', Последняя: ' + this.getLastDate();
};

new Article();
new Article();
console.log(Article.showStats()); // Всего: 2, Последняя: (дата)

new Article();
console.log(Article.showStats()); // Всего: 3, Последняя: (дата)
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjUuc3RhdGljX2FuZF9mYWJyaWNfbWV0aG9kcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW9CQSxTQUFTLE9BQU8sR0FBRztBQUNqQixTQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7Q0FDakI7QUFDRCxPQUFPLENBQUMsS0FBSyxHQUFHLENBQUM7QUFBQSxBQUNqQixPQUFPLENBQUMsY0FBYyxHQUFHLE1BQU07O0FBQUEsQUFHL0IsT0FBTyxDQUFDLFNBQVMsR0FBRyxZQUFVO0FBQzVCLFNBQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztDQUNuQjs7OztBQUFBLEFBS0QsU0FBUyxPQUFPLENBQUMsSUFBSSxFQUFFO0FBQ3JCLE1BQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFBO0NBQ2pCOztBQUdELE9BQU8sQ0FBQyxhQUFhLEdBQUcsVUFBUyxHQUFHLEVBQUUsT0FBTyxFQUFDO0FBQzVDLFNBQU8sR0FBRyxDQUFDLElBQUksS0FBSyxPQUFPLENBQUMsSUFBSSxDQUFBO0NBQ2pDLENBQUE7O0FBRUQsRUFBRSxHQUFHLElBQUksT0FBTyxDQUFDLElBQUksSUFBSSxDQUFDLElBQUksRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNyQyxFQUFFLEdBQUcsSUFBSSxPQUFPLENBQUMsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOztBQUVyQyxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQzs7QUFHeEIsT0FBTyxDQUFDLFVBQVUsR0FBRyxVQUFTLElBQUksRUFBQzs7QUFFakMsU0FBVSxJQUFJLENBQUMsT0FBTyxFQUFFLFVBQUksSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFDLENBQUMsQ0FBQSxTQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBRTtDQUN0RTs7O0FBQUEsQUFHRCxPQUFPLENBQUMsR0FBRyxDQUFF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QU8sRUFBRSxDQUFDO0FBQ2QsSUFBSSxPQUFPLEVBQUUsQ0FBQztBQUNkLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxDQUFDOztBQUFDLEFBRWpDLElBQUksT0FBTyxFQUFFLENBQUM7QUFDZCxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsQ0FBQztBQUFDIiwiZmlsZSI6InBhcnQxL29iamVjdHMvNS5zdGF0aWNfYW5kX2ZhYnJpY19tZXRob2RzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyrQodGC0LDRgtC40YfQtdGB0LrQuNC5INC80LXRgtC+0LQ6IFxuICDQvdC1INC/0YDQuNCy0Y/Qt9GL0LLQsNC10YLRgdGPINC6INC60L7QvdC60YDQtdGC0L3QvtC80YMg0Y3QutC30LXQvNC/0LvRj9GA0YMg0LrQu9Cw0YHRgdCwXG4gINC30LDQv9C40YHRi9Cy0LDQtdGC0YHRjyDQsiDQmtC+0L3RgdGC0YDRg9C60YLQvtGAXG5cbiAg0YHRg9GJ0LXRgdGC0LLRg9C10YIg0YMg0LLRgdC10YUg0Y3QutC30LXQvNC/0LvRj9GA0L7QsiDQutC70LDRgdGB0LAhXG4gINGA0LDQsdC+0YLQsNC10YIg0YHQviDQstGB0LXQvNC4INGN0LrQt9C10LzQv9C70Y/RgNCw0LzQuCDQutC70LDRgdGB0LBcblxuICDQnNC+0LbQvdC+INC40YHQv9C+0LvRjNC30L7QstCw0YLRjCDQtNC70Y8g0YTRg9C90LrRhtC40Lkg0LrQvtGC0L7RgNGL0LUg0L3QtSDRgtGA0LXQsdGD0Y7RgiDQvdCw0LvQuNGH0LjRjyDQvtCx0YrQtdC60YLQsCAgXG5cblxuXG4gINCj0LTQvtCx0L3QviDQv9GA0LjQvNC10L3Rj9GC0Ywg0LTQu9GPOiBcbiAgICAtINC+0LHRidC40YUg0LTQtdC50YHRgtCy0LjQuSDRgSDQvtCx0YrQtdC60YLQsNC80Lgg0LTQsNC90L3QvtCz0L4g0YLQuNC/0LAgKNC/0L7QtNGB0YfQtdGC0YspXG4gICAgLSDQvNC10YLQvtC00Ysg0L3QtSDQv9GA0LjQstGP0LfQsNC90L3Ri9C1INC6INC60L7QvdC60YDQtdGC0L3QvtC80YMg0Y3QutC30LXQvNC/0LvRj9GA0YNcbiAgICAtINCy0YHQv9C+0LzQvtCz0LDRgtC10LvRjNC90YvQtSDQvNC10YLQvtC00YtcbiAgICAtINGE0LDQsdGA0LjRh9C90YvQtSDQvNC10YLQvtC00YtcblxuICAqL1xuXG5cbmZ1bmN0aW9uIEFydGljbGUoKSB7XG4gIEFydGljbGUuY291bnQrKztcbn1cbkFydGljbGUuY291bnQgPSAwIC8vc3RhdGljIHByb3BlcnR5XG5BcnRpY2xlLkRFRkFVTFRfRk9STUFUID0gJ2h0bWwnIC8vc3RhdGljIGNvbnN0YW50IHZhbHVlXG5cblxuQXJ0aWNsZS5zaG93Q291bnQgPSBmdW5jdGlvbigpe1xuICByZXR1cm4gdGhpcy5jb3VudDtcbn1cblxuXG4vLyBkZWZpbmUgY29tcGFyZSBmdW5jdGlvbiBmb3IgSm91cm5hbCBkYXRlXG5cbmZ1bmN0aW9uIEpvdXJuYWwoZGF0ZSkge1xuICB0aGlzLmRhdGUgPSBkYXRlXG59XG5cblxuSm91cm5hbC5jb21wYXJlQnlEYXRlID0gZnVuY3Rpb24ob25lLCBhbm90aGVyKXtcbiAgcmV0dXJuIG9uZS5kYXRlID09PSBhbm90aGVyLmRhdGVcbn1cblxuajEgPSBuZXcgSm91cm5hbChuZXcgRGF0ZSgxOTk5LDEsMSkpO1xuajIgPSBuZXcgSm91cm5hbChuZXcgRGF0ZSgxOTk5LDEsMSkpO1xuXG5Kb3VybmFsLmNvbXBhcmUoajEsIGoyKTtcblxuXG5Kb3VybmFsLmZvcm1hdERhdGUgPSBmdW5jdGlvbihkYXRlKXsgXG4gIC8vbW9udGggKyAxIGJlY2F1c2Ugam91cm5hbCBpcyBmb3IgdGhlIG5leHQgbW9udGgpXG4gIHJldHVybiBgJHtkYXRlLmdldERhdGUoKX0uJHtkYXRlLmdldE1vbnRoKCkrMX0uJHtkYXRlLmdldEZ1bGxZZWFyKCl9YFxufVxuXG4vL25vIG9iamVjdHMgY3JlYXRpb24sIHNpbXBseSBmb3JtYXQgY3VycmVudCBkYXRhIFxuY29uc29sZS5sb2coIEpvdXJuYWwuZm9ybWF0RGF0ZShuZXcgRGF0ZSkgKTtcblxuXG5cblxuXG5cbi8q0KTQsNCx0YDQuNGH0L3Ri9C1INGB0YLQsNGC0LjRh9C10YHQutC40Lkg0LzQtdGC0L7QtDpcbiAgXG4gINGB0LvRg9C20LjRgiDQtNC70Y8g0YHQvtC30LTQsNC90LjRjyDQvdC+0LLRi9GFINC+0LHRitC10LrRgtC+0LIgKNGE0LDQsdGA0LjQutCwKVxuICDRg9C00L7QsdC90LDRjyDQsNC70YzRgtC10YDQvdCw0YLQuNCy0LAg0L/QvtC70LjQvNC+0YDRhNC90L7QvNGDINC60L7QvdGB0YLRgNGD0LrRgtC+0YDRg1xuICAo0LLQvtC30LLRgNCw0YIg0YDQsNC30L3Ri9GFINC+0LHRitC10LrRgtC+0LIg0LIg0LfQsNCy0LjRgdC40LzQvtGB0YLQuCDQvtGCINGC0LjQv9CwINCy0YXQvtC00L3Ri9GFINC00LDQvdC90YvRhSlcbiovXG5cblxuLyrQv9C+0LvQuNC80L7RgNGE0L3Ri9C5INC60L7QvdGB0YLRgNGD0LrRgtC+0YAuINCf0LvRjtGB0Ys6XG7QuNGB0L/QvtC70YzQt9C+0LLQsNGC0Ywg0LPQtNC1INC90YPQttC90LAg0L/QvtC70LjQvNC+0YDRhNC90L7RgdGC0YwgXG4o0YLQuNC/INCy0YXQvtC00Y/RidC40YUg0LTQsNC90L3Ri9GFINC30LDRgNCw0L3QtdC1INC90LXQuNC30LLQtdGB0YLQtdC9KVxuKi9cbmZ1bmN0aW9uIFVzZXIoZGF0YSkge1xuICBpZiAoZGF0YSkge1xuICAgIHRoaXMubmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLmFnZSA9IGRhdGEuYWdlO1xuICB9IGVsc2Uge1xuICAgIHRoaXMubmFtZSA9IFwiQW5vbnltb3VzXCI7XG4gIH1cblxuICB0aGlzLnNheUhpID0gZnVuY3Rpb24oKXtcbiAgICBjb25zb2xlLmxvZyh0aGlzLm5hbWUpO1xuICB9XG59XG52YXIga25vd25Vc2VyID0gbmV3IFVzZXIoe1xuICBuYW1lOiBcIlRvbVwiLFxuICBhZ2U6IFwiMTZcIlxufSk7XG5rbm93blVzZXIuc2F5SGkoKSAvL1RvbVxuXG52YXIgZ3Vlc3QgPSBuZXcgVXNlcigpO1xuZ3Vlc3Quc2F5SGkoKSAvL0Fub255bW91c1xuXG5cblxuXG4vKtGE0LDQsdGA0LjRh9C90YvQuSDQvNC10YLQvtC0LiDQn9C70Y7RgdGLOlxu0LvRg9GH0YjQtSDRh9C40YLQsNC10LzQvtGB0YLRjCAo0LLQvNC10YHRgtC+INC+0LTQvdC+0Lkg0YHQu9C+0LbQvdC+0Lkg0YQt0YbQuNC4IC0g0L3QtdGB0LrQvtC70YzQutC+INC/0YDQvtGB0YLRi9GFKVxu0LvRg9GH0YjQtSDQutC+0L3RgtGA0L7Qu9GMINC+0YjQuNCx0L7Qulxu0LvRg9GH0YjQtSDRgNCw0YHRiNC40YDRj9C10LzQvtGB0YLRjCAo0L/RgNC+0YnQtSDQtNC+0LHQsNCy0LjRgtGMINC00YDRg9Cz0L7QuSDRgtC40L8g0LTQsNC90L3Ri9GFKSA/IFxuKi9cblxuXG5mdW5jdGlvbiBGYWJyaWNVc2VyKGRhdGEpIHtcbiAgdGhpcy5zYXlIaSA9IGZ1bmN0aW9uKCl7XG4gICAgY29uc29sZS5sb2codGhpcy5uYW1lKTtcbiAgfVxufVxuXG5GYWJyaWNVc2VyLmNyZWF0ZUtub3duVXNlciA9IGZ1bmN0aW9uKGRhdGEpe1xuICBsZXQgdXNlciA9IG5ldyBGYWJyaWNVc2VyOyAvLyAhISEgbm90IGNhbGwgY29uc3RydWN0b3JcbiAgW3VzZXIubmFtZSwgdXNlci5hZ2VdID0gZGF0YTtcbiAgcmV0dXJuIHVzZXI7XG59XG5cbkZhYnJpY1VzZXIuY3JlYXRlQW5vbnltb3VzVXNlciA9IGZ1bmN0aW9uKCl7XG4gIGxldCB1c2VyID0gbmV3IEZhYnJpY1VzZXI7IC8vY3JlYXRlIGluc3RhbmNlIG9mIENsYXNzIHRvIGdldCBhbGwgYXR0cmlidXRlc1xuICB1c2VyLm5hbWUgPSBcIkFub255bW91c1wiO1xuICByZXR1cm4gdXNlcjtcbn1cblxudmFyIGtub3duVXNlciA9IG5ldyBGYWJyaWNVc2VyLmNyZWF0ZUtub3duVXNlcih7XG4gIG5hbWU6IFwiVG9tXCIsXG4gIGFnZTogXCIxNlwiXG59KTtcbmtub3duVXNlci5zYXlIaSgpIC8vVG9tXG5cbnZhciBndWVzdCA9IG5ldyBGYWJyaWNVc2VyLmNyZWF0ZUFub255bW91c1VzZXIoKSgpO1xuZ3Vlc3Quc2F5SGkoKSAvL0Fub255bW91c1xuXG5cblxuXG5cbi8q0JfQsNC00LDRh9CwIDFcblxu0JTQvtCx0LDQstC40YLRjCDQsiDQutC+0L3RgdGC0YDRg9C60YLQvtGAIEFydGljbGU6XG5cbtCf0L7QtNGB0YfRkdGCINC+0LHRidC10LPQviDQutC+0LvQuNGH0LXRgdGC0LLQsCDRgdC+0LfQtNCw0L3QvdGL0YUg0L7QsdGK0LXQutGC0L7Qsi5cbtCX0LDQv9C+0LzQuNC90LDQvdC40LUg0LTQsNGC0Ysg0L/QvtGB0LvQtdC00L3QtdCz0L4g0YHQvtC30LTQsNC90L3QvtCz0L4g0L7QsdGK0LXQutGC0LAuXG7QmNGB0L/QvtC70YzQt9GD0LnRgtC1INC00LvRjyDRjdGC0L7Qs9C+INGB0YLQsNGC0LjRh9C10YHQutC40LUg0YHQstC+0LnRgdGC0LLQsC5cblxu0J/Rg9GB0YLRjCDQstGL0LfQvtCyIEFydGljbGUuc2hvd1N0YXRzKCkg0LLRi9Cy0L7QtNC40YIg0YLQviDQuCDQtNGA0YPQs9C+0LUuXG4qL1xuXG5cblxuXG5mdW5jdGlvbiBBcnRpY2xlKCkge1xuICB0aGlzLmNyZWF0ZWQgPSBuZXcgRGF0ZSgpO1xuICBBcnRpY2xlLmNvdW50Kys7IC8vY291bnQgZWFjaCBhcnRpY2xlIGFuZCBzdG9yZSBpbiBzdGF0aWMgcHJvcFxuICBBcnRpY2xlLmFsbERhdGVzLnB1c2godGhpcy5jcmVhdGVkKTtcbn1cblxuLy8gSW5pdCBzdGF0aWMgaGVscCBwcm9wZXJ0aWVzXG5BcnRpY2xlLmNvdW50ID0gMDsgXG5BcnRpY2xlLmFsbERhdGVzID0gW107XG5cbi8vaW5pdCBzdGF0aWMgbWV0aG9kc1xuQXJ0aWNsZS5jb3VudFRvdGFsID0gZnVuY3Rpb24oKXtcbiAgcmV0dXJuIHRoaXMuY291bnQ7IC8vdGhpcyA9PT0gQ29uc3RydWN0b3Jcbn07XG5cbkFydGljbGUuZ2V0TGFzdERhdGUgPSBmdW5jdGlvbigpe1xuICByZXR1cm4gdGhpcy5hbGxEYXRlc1t0aGlzLmFsbERhdGVzLmxlbmd0aCAtIDFdO1xufTtcblxuQXJ0aWNsZS5zaG93U3RhdHMgPSBmdW5jdGlvbigpe1xuICByZXR1cm4gJ9CS0YHQtdCz0L46ICcgKyB0aGlzLmNvdW50VG90YWwoKSArICcsINCf0L7RgdC70LXQtNC90Y/RjzogJyArIHRoaXMuZ2V0TGFzdERhdGUoKTtcbn07XG5cblxubmV3IEFydGljbGUoKTtcbm5ldyBBcnRpY2xlKCk7XG5jb25zb2xlLmxvZyhBcnRpY2xlLnNob3dTdGF0cygpKTsgLy8g0JLRgdC10LPQvjogMiwg0J/QvtGB0LvQtdC00L3Rj9GPOiAo0LTQsNGC0LApXG5cbm5ldyBBcnRpY2xlKCk7XG5jb25zb2xlLmxvZyhBcnRpY2xlLnNob3dTdGF0cygpKTsgLy8g0JLRgdC10LPQvjogMywg0J/QvtGB0LvQtdC00L3Rj9GPOiAo0LTQsNGC0LApXG5cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
