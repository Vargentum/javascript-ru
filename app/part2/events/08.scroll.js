'use strict';

/*
Сделайте так, чтобы при прокрутке ниже элемента 
#avatar (картинка с Винни-Пухом) – он продолжал показываться в левом-верхнем углу.

При прокрутке вверх – должен возвращаться на обычное место.

Solve with markup: http://plnkr.co/edit/JDSm7hVgXoVVQdxgAjcr?p=preview
*/

function task1() {
  var fixElem = function fixElem(elem) {
    elem.style.position = 'fixed';
    elem.style.left = '0';
    elem.style.top = '0';
  };
  var restoreElem = function restoreElem(elem) {
    elem.style.position = 'static';
  };
  var elemPosHandler = function elemPosHandler(elem, elemY, evt) {
    window.pageYOffset >= elemY ? fixElem(elem) : restoreElem(elem);
  };

  var avatarStartY = avatar.getBoundingClientRect().top + window.pageYOffset;
  document.addEventListener('scroll', elemPosHandler.bind(null, avatar, avatarStartY));
}
// task1()

/*Task 2

Создайте кнопку навигации, которая помогает при прокрутке страницы.

Работать должна следующим образом:

Пока страница промотана меньше чем на высоту экрана вниз – кнопка не видна.
При промотке страницы вниз больше, чем на высоту экрана, появляется кнопка «стрелка вверх».
При нажатии на нее страница прыгает вверх, но не только.
Дополнительно, кнопка меняется на «стрелка вниз» и при клике возвратит на старое место. 
Если же в этом состоянии посетитель сам прокрутит вниз больше, чем один экран,
то она вновь изменится на «стрелка вверх».

*/
function task2() {
  var _this = this;

  var helper = document.getElementById('scroll-helper');
  var lastPosition = null;
  var isReturned = false;

  var helperClickHandler = function helperClickHandler(type, e) {
    switch (type) {
      case 'toUp':
        window.scrollTo(0, 0);
        break;
      case 'toDown':
        window.scrollTo(lastPosition.left, lastPosition.top);
        break;
    }
  };

  var activateHelperAs = function activateHelperAs(type) {
    switch (type) {
      case 'toUp':
        helper.classList.remove('is-hidden');
        helper.classList.remove('is-down');
        helper.classList.add('is-up');
        break;
      case 'toDown':
        helper.classList.remove('is-hidden');
        helper.classList.remove('is-up');
        helper.classList.add('is-down');
        break;
      case 'hidden':
        helper.classList.remove('is-up');
        helper.classList.remove('is-down');
        helper.classList.add('is-hidden');
        break;
    }
  };

  var setHelperBehavior = function setHelperBehavior(e) {
    var scrollY = window.pageYOffset;
    var docHeight = window.innerHeight;

    if (scrollY > docHeight) {
      activateHelperAs('toUp');
      lastPosition = {
        top: window.pageYOffset,
        left: window.pageXOffset
      };
      isReturned = true;
      helper.onclick = helperClickHandler.bind(_this, 'toUp');
    } else if (scrollY === 0 && isReturned) {
      activateHelperAs('toDown');
      helper.onclick = helperClickHandler.bind(_this, 'toDown');
    } else if (scrollY <= docHeight) {
      activateHelperAs('hidden');
      isReturned = false;
      helper.onclick = false;
    }
  };

  document.addEventListener('scroll', setHelperBehavior);
}
task2();
//# sourceMappingURL=data:application/json;base64,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QUFBOztBQUVELE1BQUksaUJBQWlCLEdBQUcsU0FBcEIsaUJBQWlCLENBQUksQ0FBQyxFQUFLO0FBQzdCLFFBQUksT0FBTyxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUE7QUFDaEMsUUFBSSxTQUFTLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQTs7QUFFbEMsUUFBSSxPQUFPLEdBQUcsU0FBUyxFQUFFO0FBQ3ZCLHNCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFBO0FBQ3hCLGtCQUFZLEdBQUc7QUFDYixXQUFHLEVBQUUsTUFBTSxDQUFDLFdBQVc7QUFDdkIsWUFBSSxFQUFFLE1BQU0sQ0FBQyxXQUFXO09BQ3pCLENBQUE7QUFDRCxnQkFBVSxHQUFHLElBQUksQ0FBQTtBQUNqQixZQUFNLENBQUMsT0FBTyxHQUFHLGtCQUFrQixDQUFDLElBQUksUUFBTyxNQUFNLENBQUMsQ0FBQTtLQUN2RCxNQUNJLElBQUksT0FBTyxLQUFLLENBQUMsSUFBSyxVQUFVLEVBQUU7QUFDckMsc0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDMUIsWUFBTSxDQUFDLE9BQU8sR0FBRyxrQkFBa0IsQ0FBQyxJQUFJLFFBQU8sUUFBUSxDQUFDLENBQUE7S0FDekQsTUFDSSxJQUFJLE9BQU8sSUFBSSxTQUFTLEVBQUU7QUFDN0Isc0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDMUIsZ0JBQVUsR0FBRyxLQUFLLENBQUE7QUFDbEIsWUFBTSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUE7S0FDdkI7R0FDRixDQUFBOztBQUVELFVBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsaUJBQWlCLENBQUMsQ0FBQTtDQUN2RDtBQUNELEtBQUssRUFBRSxDQUFBIiwiZmlsZSI6InBhcnQyL2V2ZW50cy8wOC5zY3JvbGwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxu0KHQtNC10LvQsNC50YLQtSDRgtCw0LosINGH0YLQvtCx0Ysg0L/RgNC4INC/0YDQvtC60YDRg9GC0LrQtSDQvdC40LbQtSDRjdC70LXQvNC10L3RgtCwIFxuI2F2YXRhciAo0LrQsNGA0YLQuNC90LrQsCDRgSDQktC40L3QvdC4LdCf0YPRhdC+0LwpIOKAkyDQvtC9INC/0YDQvtC00L7Qu9C20LDQuyDQv9C+0LrQsNC30YvQstCw0YLRjNGB0Y8g0LIg0LvQtdCy0L7QvC3QstC10YDRhdC90LXQvCDRg9Cz0LvRgy5cblxu0J/RgNC4INC/0YDQvtC60YDRg9GC0LrQtSDQstCy0LXRgNGFIOKAkyDQtNC+0LvQttC10L0g0LLQvtC30LLRgNCw0YnQsNGC0YzRgdGPINC90LAg0L7QsdGL0YfQvdC+0LUg0LzQtdGB0YLQvi5cblxuU29sdmUgd2l0aCBtYXJrdXA6IGh0dHA6Ly9wbG5rci5jby9lZGl0L0pEU203aFZnWG9WVlFkeGdBamNyP3A9cHJldmlld1xuKi9cblxuZnVuY3Rpb24gdGFzazEgKCkge1xuICBsZXQgZml4RWxlbSA9IGVsZW0gPT4ge1xuICAgIGVsZW0uc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnXG4gICAgZWxlbS5zdHlsZS5sZWZ0ID0gJzAnXG4gICAgZWxlbS5zdHlsZS50b3AgPSAnMCdcbiAgfVxuICBsZXQgcmVzdG9yZUVsZW0gPSBlbGVtID0+IHtcbiAgICBlbGVtLnN0eWxlLnBvc2l0aW9uID0gJ3N0YXRpYydcbiAgfVxuICBsZXQgZWxlbVBvc0hhbmRsZXIgPSAoZWxlbSwgZWxlbVksIGV2dCkgPT4ge1xuICAgIHdpbmRvdy5wYWdlWU9mZnNldCA+PSBlbGVtWSA/IGZpeEVsZW0oZWxlbSkgOiByZXN0b3JlRWxlbShlbGVtKVxuICB9XG5cbiAgbGV0IGF2YXRhclN0YXJ0WSA9IGF2YXRhci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXRcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZWxlbVBvc0hhbmRsZXIuYmluZChudWxsLCBhdmF0YXIsIGF2YXRhclN0YXJ0WSkpXG59XG4vLyB0YXNrMSgpXG5cblxuXG4vKlRhc2sgMlxuXG7QodC+0LfQtNCw0LnRgtC1INC60L3QvtC/0LrRgyDQvdCw0LLQuNCz0LDRhtC40LgsINC60L7RgtC+0YDQsNGPINC/0L7QvNC+0LPQsNC10YIg0L/RgNC4INC/0YDQvtC60YDRg9GC0LrQtSDRgdGC0YDQsNC90LjRhtGLLlxuXG7QoNCw0LHQvtGC0LDRgtGMINC00L7Qu9C20L3QsCDRgdC70LXQtNGD0Y7RidC40Lwg0L7QsdGA0LDQt9C+0Lw6XG5cbtCf0L7QutCwINGB0YLRgNCw0L3QuNGG0LAg0L/RgNC+0LzQvtGC0LDQvdCwINC80LXQvdGM0YjQtSDRh9C10Lwg0L3QsCDQstGL0YHQvtGC0YMg0Y3QutGA0LDQvdCwINCy0L3QuNC3IOKAkyDQutC90L7Qv9C60LAg0L3QtSDQstC40LTQvdCwLlxu0J/RgNC4INC/0YDQvtC80L7RgtC60LUg0YHRgtGA0LDQvdC40YbRiyDQstC90LjQtyDQsdC+0LvRjNGI0LUsINGH0LXQvCDQvdCwINCy0YvRgdC+0YLRgyDRjdC60YDQsNC90LAsINC/0L7Rj9Cy0LvRj9C10YLRgdGPINC60L3QvtC/0LrQsCDCq9GB0YLRgNC10LvQutCwINCy0LLQtdGA0YXCuy5cbtCf0YDQuCDQvdCw0LbQsNGC0LjQuCDQvdCwINC90LXQtSDRgdGC0YDQsNC90LjRhtCwINC/0YDRi9Cz0LDQtdGCINCy0LLQtdGA0YUsINC90L4g0L3QtSDRgtC+0LvRjNC60L4uXG7QlNC+0L/QvtC70L3QuNGC0LXQu9GM0L3Qviwg0LrQvdC+0L/QutCwINC80LXQvdGP0LXRgtGB0Y8g0L3QsCDCq9GB0YLRgNC10LvQutCwINCy0L3QuNC3wrsg0Lgg0L/RgNC4INC60LvQuNC60LUg0LLQvtC30LLRgNCw0YLQuNGCINC90LAg0YHRgtCw0YDQvtC1INC80LXRgdGC0L4uIFxu0JXRgdC70Lgg0LbQtSDQsiDRjdGC0L7QvCDRgdC+0YHRgtC+0Y/QvdC40Lgg0L/QvtGB0LXRgtC40YLQtdC70Ywg0YHQsNC8INC/0YDQvtC60YDRg9GC0LjRgiDQstC90LjQtyDQsdC+0LvRjNGI0LUsINGH0LXQvCDQvtC00LjQvSDRjdC60YDQsNC9LFxu0YLQviDQvtC90LAg0LLQvdC+0LLRjCDQuNC30LzQtdC90LjRgtGB0Y8g0L3QsCDCq9GB0YLRgNC10LvQutCwINCy0LLQtdGA0YXCuy5cblxuKi9cbmZ1bmN0aW9uIHRhc2syICgpIHtcbiAgbGV0IGhlbHBlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY3JvbGwtaGVscGVyJylcbiAgbGV0IGxhc3RQb3NpdGlvbiA9IG51bGxcbiAgbGV0IGlzUmV0dXJuZWQgPSBmYWxzZVxuXG4gIGxldCBoZWxwZXJDbGlja0hhbmRsZXIgPSAodHlwZSwgZSkgPT4ge1xuICAgIHN3aXRjaCh0eXBlKXtcbiAgICAgIGNhc2UgJ3RvVXAnOlxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMClcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0b0Rvd24nOlxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8obGFzdFBvc2l0aW9uLmxlZnQsIGxhc3RQb3NpdGlvbi50b3ApXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGxldCBhY3RpdmF0ZUhlbHBlckFzID0gKHR5cGUpID0+IHtcbiAgICBzd2l0Y2godHlwZSl7XG4gICAgICBjYXNlICd0b1VwJzpcbiAgICAgICAgaGVscGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWhpZGRlbicpXG4gICAgICAgIGhlbHBlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1kb3duJylcbiAgICAgICAgaGVscGVyLmNsYXNzTGlzdC5hZGQoJ2lzLXVwJykgICAgXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9Eb3duJzpcbiAgICAgICAgaGVscGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWhpZGRlbicpXG4gICAgICAgIGhlbHBlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy11cCcpXG4gICAgICAgIGhlbHBlci5jbGFzc0xpc3QuYWRkKCdpcy1kb3duJykgICAgXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnaGlkZGVuJzpcbiAgICAgICAgaGVscGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLXVwJylcbiAgICAgICAgaGVscGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWRvd24nKVxuICAgICAgICBoZWxwZXIuY2xhc3NMaXN0LmFkZCgnaXMtaGlkZGVuJykgICAgXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGxldCBzZXRIZWxwZXJCZWhhdmlvciA9IChlKSA9PiB7XG4gICAgbGV0IHNjcm9sbFkgPSB3aW5kb3cucGFnZVlPZmZzZXRcbiAgICBsZXQgZG9jSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0XG5cbiAgICBpZiAoc2Nyb2xsWSA+IGRvY0hlaWdodCkge1xuICAgICAgYWN0aXZhdGVIZWxwZXJBcygndG9VcCcpXG4gICAgICBsYXN0UG9zaXRpb24gPSB7XG4gICAgICAgIHRvcDogd2luZG93LnBhZ2VZT2Zmc2V0LFxuICAgICAgICBsZWZ0OiB3aW5kb3cucGFnZVhPZmZzZXQsXG4gICAgICB9XG4gICAgICBpc1JldHVybmVkID0gdHJ1ZVxuICAgICAgaGVscGVyLm9uY2xpY2sgPSBoZWxwZXJDbGlja0hhbmRsZXIuYmluZCh0aGlzLCAndG9VcCcpXG4gICAgfSBcbiAgICBlbHNlIGlmIChzY3JvbGxZID09PSAwICAmJiBpc1JldHVybmVkKSB7XG4gICAgICBhY3RpdmF0ZUhlbHBlckFzKCd0b0Rvd24nKVxuICAgICAgaGVscGVyLm9uY2xpY2sgPSBoZWxwZXJDbGlja0hhbmRsZXIuYmluZCh0aGlzLCAndG9Eb3duJylcbiAgICB9XG4gICAgZWxzZSBpZiAoc2Nyb2xsWSA8PSBkb2NIZWlnaHQpIHtcbiAgICAgIGFjdGl2YXRlSGVscGVyQXMoJ2hpZGRlbicpXG4gICAgICBpc1JldHVybmVkID0gZmFsc2VcbiAgICAgIGhlbHBlci5vbmNsaWNrID0gZmFsc2VcbiAgICB9XG4gIH1cblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzZXRIZWxwZXJCZWhhdmlvcilcbn1cbnRhc2syKClcblxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
