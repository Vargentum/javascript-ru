"use strict";

/*Task 1:
organize the prototypal chain: pockets -> bed -> table -> head
*/

function task1() {

  var head = {
    glasses: 1
  };

  var table = {
    __proto__: head,
    pen: 3
  };

  var bed = {
    __proto__: table,
    sheet: 1,
    pillow: 2
  };

  var pockets = {
    __proto__: bed,
    money: 2000
  };
}
// task1()

/*Task: 2

add defer(ms) method to function prototype,
it provide ms delay for function execution
*/
function task2() {

  Function.prototype.defer = function (ms) {

    // setTimeout(function() {
    //   this.apply(this, arguments)
    // }.bind(this), ms)

    //Keep it simple!!!
    setTimeout(this, ms);
  };

  function f() {
    console.log("hello");
  }
  f.defer(3000);
}
// task2()

/*Task: 3

пусть defer возвращает обертку, которая откладывает вызов на ms
*/
function task3() {

  Function.prototype.defer = function (ms) {
    var f = this; // save function

    return function () {
      var self = this;
      var args = arguments; //save proper context and arguments

      setTimeout(function () {
        f.apply(this, args); // forwarding
      }, ms);
    };
  };

  function f(a, b) {
    console.log(a + b);
  }
  f.defer(1000)(1, 2);
}
task3();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjAxLl9fcHJvdG9fXy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFJQSxTQUFTLEtBQUssR0FBSTs7QUFFaEIsTUFBSSxJQUFJLEdBQUc7QUFDVCxXQUFPLEVBQUUsQ0FBQztHQUNYLENBQUM7O0FBRUYsTUFBSSxLQUFLLEdBQUc7QUFDVixhQUFTLEVBQUUsSUFBSTtBQUNmLE9BQUcsRUFBRSxDQUFDO0dBQ1AsQ0FBQzs7QUFFRixNQUFJLEdBQUcsR0FBRztBQUNSLGFBQVMsRUFBRSxLQUFLO0FBQ2hCLFNBQUssRUFBRSxDQUFDO0FBQ1IsVUFBTSxFQUFFLENBQUM7R0FDVixDQUFDOztBQUVGLE1BQUksT0FBTyxHQUFHO0FBQ1osYUFBUyxFQUFFLEdBQUc7QUFDZCxTQUFLLEVBQUUsSUFBSTtHQUNaLENBQUM7Q0FFSDs7Ozs7Ozs7QUFBQSxBQVNELFNBQVMsS0FBSyxHQUFJOztBQUVoQixVQUFRLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxVQUFVLEVBQUUsRUFBRTs7Ozs7OztBQU92QyxjQUFVLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFBO0dBRXJCLENBQUE7O0FBRUQsV0FBUyxDQUFDLEdBQUc7QUFDWCxXQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0dBQ3JCO0FBQ0QsR0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQTtDQUNkOzs7Ozs7O0FBQUEsQUFRRCxTQUFTLEtBQUssR0FBSTs7QUFFaEIsVUFBUSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsVUFBVSxFQUFFLEVBQUU7QUFDdkMsUUFBSSxDQUFDLEdBQUcsSUFBSTs7QUFBQyxBQUViLFdBQU8sWUFBVTtBQUNmLFVBQUksSUFBSSxHQUFHLElBQUksQ0FBQTtBQUNmLFVBQUksSUFBSSxHQUFHLFNBQVM7O0FBQUMsQUFFckIsZ0JBQVUsQ0FBQyxZQUFVO0FBQ25CLFNBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQztBQUFBLE9BQ3BCLEVBQUUsRUFBRSxDQUFDLENBQUE7S0FDUCxDQUFBO0dBQ0YsQ0FBQTs7QUFFRCxXQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFO0FBQ2QsV0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUE7R0FDbkI7QUFDRCxHQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQTtDQUNuQjtBQUNELEtBQUssRUFBRSxDQUFBIiwiZmlsZSI6Im9vcF9wcm90b3R5cGFsLzAxLl9fcHJvdG9fXy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qVGFzayAxOlxub3JnYW5pemUgdGhlIHByb3RvdHlwYWwgY2hhaW46IHBvY2tldHMgLT4gYmVkIC0+IHRhYmxlIC0+IGhlYWRcbiovXG5cbmZ1bmN0aW9uIHRhc2sxICgpIHtcblxuICB2YXIgaGVhZCA9IHtcbiAgICBnbGFzc2VzOiAxXG4gIH07XG5cbiAgdmFyIHRhYmxlID0ge1xuICAgIF9fcHJvdG9fXzogaGVhZCxcbiAgICBwZW46IDNcbiAgfTtcblxuICB2YXIgYmVkID0ge1xuICAgIF9fcHJvdG9fXzogdGFibGUsXG4gICAgc2hlZXQ6IDEsXG4gICAgcGlsbG93OiAyXG4gIH07XG5cbiAgdmFyIHBvY2tldHMgPSB7XG4gICAgX19wcm90b19fOiBiZWQsXG4gICAgbW9uZXk6IDIwMDBcbiAgfTtcblxufVxuLy8gdGFzazEoKVxuXG5cbi8qVGFzazogMlxuXG5hZGQgZGVmZXIobXMpIG1ldGhvZCB0byBmdW5jdGlvbiBwcm90b3R5cGUsXG5pdCBwcm92aWRlIG1zIGRlbGF5IGZvciBmdW5jdGlvbiBleGVjdXRpb25cbiovXG5mdW5jdGlvbiB0YXNrMiAoKSB7XG5cbiAgRnVuY3Rpb24ucHJvdG90eXBlLmRlZmVyID0gZnVuY3Rpb24gKG1zKSB7XG5cbiAgICAvLyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIC8vICAgdGhpcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgLy8gfS5iaW5kKHRoaXMpLCBtcylcblxuICAgIC8vS2VlcCBpdCBzaW1wbGUhISFcbiAgICBzZXRUaW1lb3V0KHRoaXMsIG1zKVxuXG4gIH1cblxuICBmdW5jdGlvbiBmKCkge1xuICAgIGNvbnNvbGUubG9nKFwiaGVsbG9cIilcbiAgfVxuICBmLmRlZmVyKDMwMDApXG59XG4vLyB0YXNrMigpXG5cblxuLypUYXNrOiAzXG5cbtC/0YPRgdGC0YwgZGVmZXIg0LLQvtC30LLRgNCw0YnQsNC10YIg0L7QsdC10YDRgtC60YMsINC60L7RgtC+0YDQsNGPINC+0YLQutC70LDQtNGL0LLQsNC10YIg0LLRi9C30L7QsiDQvdCwIG1zXG4qL1xuZnVuY3Rpb24gdGFzazMgKCkge1xuXG4gIEZ1bmN0aW9uLnByb3RvdHlwZS5kZWZlciA9IGZ1bmN0aW9uIChtcykge1xuICAgIHZhciBmID0gdGhpczsgLy8gc2F2ZSBmdW5jdGlvblxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzOyAvL3NhdmUgcHJvcGVyIGNvbnRleHQgYW5kIGFyZ3VtZW50c1xuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgIGYuYXBwbHkodGhpcywgYXJncykgLy8gZm9yd2FyZGluZ1xuICAgICAgfSwgbXMpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZihhLGIpIHtcbiAgICBjb25zb2xlLmxvZyhhICsgYilcbiAgfVxuICBmLmRlZmVyKDEwMDApKDEsMilcbn1cbnRhc2szKClcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
