"use strict";

function sayHi(name) {
  var phrase = "Привет, " + name;
  return phrase;
}
var result = sayHi('Вася');

/*Stage 1: function initialization
  a. create LexicalEnvironment object
  b. write arguments
  c. write variables (similar to global object)
*/
function sayHi(name) {
  // LexicalEnvironment = { name: 'Вася', phrase: undefined }
  var phrase = "Привет, " + name;
  return phrase;
}
var result = sayHi('Вася');

/*Stage 2: function execution
*/
function sayHi(name) {
  // LexicalEnvironment = { name: 'Вася', phrase: undefined }
  var phrase = "Привет, " + name;

  // LexicalEnvironment = { name: 'Вася', phrase: 'Привет, Вася'}
  return phrase;
}

var result = sayHi('Вася');

/*Stage 3: garbage collection
  a. Delete LexicalEnvironment
  b. Clear memory
*/

/*Сlojure example:
  замыкание - область внешних переменных доступных функции
  переменная берется из замыкания - из внешней области.
*/

function makeCount() {
  /*CLOJURE START*/

  var currentCount = 1;

  /*CLOJURE END*/
  return function () {
    return currentCount++;
    // сначала возвращает, а потом увеличивает !!!
    // (суффикный декремент, с префиксным возвращало бы уже увеличенное значение currentCount)
  };
}

var c1 = makeCount();

console.log(c1()); //1
console.log(c1()); //2
console.log(c1()); //3

//Each counter are independent
var c2 = makeCount();
console.log(c2()); //1

/*Function Properties
  in JS each function is object, so it can have properties
  Clojure is better than access to function properties, because you can access directly to this property
*/

var f = function f() {};
f.test = 5;

function makeCounter() {
  function count() {
    return count.counter++;
  }
  count.counter = 1;

  return count; //no evaluation !!! count()
}

var f = makeCount();

console.log(f()); //1
f.counter = 5;
console.log(f()); //5

/*Задача: 1*/
say('Вася'); // Что выведет? Не будет ли ошибки?

var phrase = 'Привет';

function say(name) {
  return name + ", " + phrase;
}

/*Решение: вернет 'Вася, undefined'. Ошибки не будет, т.к. переменная phrase инициализирована со значением undefined.
Функция выполнится потому что она уже доступна в Global Object*/

/*Задача: 2
а. каким будет результат?
б. изменится ли value?
в. что изменится если убрать var из строки var value = false
*/
var value = 0;

function f() {
  if (1) {
    value = true;
  } else {
    var value = false;
  }
  return value;
}
f();

/*Решение:
а. true
б. изменится (неправильно: не изменится)
в. ничего. интерпретатор не будет заходить в эту часть, т.к. условие ложно  (частично:)*/

/*Задача: 3
Какой результат?
*/

function test() {
  var result;
  result = window;

  var window = 5;
  result = window;
}
test();

/*Решение (неправильно, забыл что внутри функции будет создана локальная переменная window)
[Object: object]
затем ошибка - недопустимое имя переменной*/

/*Правильное решение: undefined, 5
  будет объявлена локальная переменная window в LE функции test()
  затем стандартные стадии: инициализация с undefined, затем присвоение
*/

/*Задача 4
  Какой результат выполнения? Почему?
*/

var a = 5(function () {
  return a;
})();

/*Решение: undefined (неправильно )
так как в GO записана самовызывающаяся функция она исполняется в начале стадии исполнения.
Переменная 'a' в этот момент определена со значением undefined.
*/

/*Правильное решение: произойдет ошибка, тк отсутствует ; после декларации var a = 5
попытается вызваться 5(function(){...})
Опасный подводный камень для тех кто не ставит ;
*/

/*Задача 5
*/

function makeCounter() {
  var currentCount = 1;

  return function () {
    var currentCount;
    console.log(this.currentCount);
    console.log(makeCount.currentCount);
    // можно ли здесь вывести currentCount из внешней функции (равный 1)?
  };
}

/*Решение (неправильно): можно c помощью обращения к контексту внутренней функции, которой является makeCounter (через this)
или напрямую через makeCounter.currentCount  */

/*Правильное решение: Нельзя. Локальная переменная полностью перекрывает внешнюю.*/

/*Задача 6
*/
var currentCount = 1;

function makeCounter() {
  return function () {
    return currentCount++;
  };
}

var counter = makeCounter();
var counter2 = makeCounter();

counter(); // ?
counter(); // ?

counter2(); // ?
counter2(); // ?

/*Решение: 1 2 3 4. Потому что для обеих счетчиков будет использоваться одна и та же переменная currentCount.*/
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjAyLmxleGljYWxfZW52aXJvbm1lbnQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUFTLEtBQUssQ0FBQyxJQUFJLEVBQUU7QUFDbkIsTUFBSSxNQUFNLEdBQUcsVUFBVSxHQUFHLElBQUksQ0FBQztBQUMvQixTQUFPLE1BQU0sQ0FBQTtDQUNkO0FBQ0QsSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQzs7Ozs7OztBQUFDLEFBUTNCLFNBQVMsS0FBSyxDQUFDLElBQUksRUFBRTs7QUFFbkIsTUFBSSxNQUFNLEdBQUcsVUFBVSxHQUFHLElBQUksQ0FBQztBQUMvQixTQUFPLE1BQU0sQ0FBQTtDQUNkO0FBQ0QsSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQzs7OztBQUFDLEFBTzNCLFNBQVMsS0FBSyxDQUFDLElBQUksRUFBRTs7QUFFbkIsTUFBSSxNQUFNLEdBQUcsVUFBVSxHQUFHLElBQUk7OztBQUFDLEFBRy9CLFNBQU8sTUFBTSxDQUFBO0NBQ2Q7O0FBRUQsSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQzs7Ozs7Ozs7Ozs7O0FBQUMsQUFrQjNCLFNBQVMsU0FBUyxHQUFJOzs7QUFHcEIsTUFBSSxZQUFZLEdBQUcsQ0FBQzs7O0FBQUMsQUFHckIsU0FBTyxZQUFZO0FBQ2pCLFdBQU8sWUFBWSxFQUFFOzs7QUFBQyxHQUd2QixDQUFBO0NBQ0Y7O0FBRUQsSUFBSSxFQUFFLEdBQUcsU0FBUyxFQUFFLENBQUE7O0FBRXBCLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUM7QUFBQSxBQUNqQixPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDO0FBQUEsQUFDakIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQzs7O0FBQUEsQUFJakIsSUFBSSxFQUFFLEdBQUcsU0FBUyxFQUFFLENBQUE7QUFDcEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQzs7Ozs7OztBQUFBLEFBV2pCLElBQUksQ0FBQyxHQUFHLFNBQUosQ0FBQyxHQUFlLEVBQUUsQ0FBQTtBQUN0QixDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQTs7QUFHVixTQUFTLFdBQVcsR0FBRTtBQUNwQixXQUFTLEtBQUssR0FBRTtBQUNkLFdBQU8sS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO0dBQ3hCO0FBQ0QsT0FBSyxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUM7O0FBRWxCLFNBQU8sS0FBSztBQUFDLENBQ2Q7O0FBR0QsSUFBSSxDQUFDLEdBQUcsU0FBUyxFQUFFLENBQUM7O0FBRXBCLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUM7QUFBQSxBQUNoQixDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQztBQUNkLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUM7OztBQUFBLEFBS2hCLEdBQUcsQ0FBQyxNQUFNLENBQUM7O0FBQUMsQUFFWixJQUFJLE1BQU0sR0FBRyxRQUFRLENBQUM7O0FBRXRCLFNBQVMsR0FBRyxDQUFDLElBQUksRUFBRTtBQUNqQixTQUFRLElBQUksR0FBRyxJQUFJLEdBQUcsTUFBTSxDQUFFO0NBQy9COzs7Ozs7Ozs7O0FBQUEsQUFZRCxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7O0FBRWQsU0FBUyxDQUFDLEdBQUc7QUFDWCxNQUFJLENBQUMsRUFBRTtBQUNMLFNBQUssR0FBRyxJQUFJLENBQUM7R0FDZCxNQUFNO0FBQ0wsUUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDO0dBQ25CO0FBQ0QsU0FBTyxLQUFLLENBQUM7Q0FDZDtBQUNELENBQUMsRUFBRTs7Ozs7Ozs7Ozs7QUFBQyxBQWVKLFNBQVMsSUFBSSxHQUFHO0FBQ2QsTUFBSSxNQUFNLENBQUM7QUFDWCxRQUFNLEdBQUcsTUFBTSxDQUFDOztBQUVoQixNQUFJLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFDZixRQUFNLEdBQUcsTUFBTSxDQUFDO0NBQ2pCO0FBQ0QsSUFBSSxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7QUFBQyxBQWtCUCxJQUFJLENBQUMsR0FBRyxDQUFDLENBRVIsWUFBVztBQUNWLFNBQU8sQ0FBQyxDQUFDO0NBQ1YsQ0FBQyxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxBQWtCSixTQUFTLFdBQVcsR0FBRztBQUNyQixNQUFJLFlBQVksR0FBRyxDQUFDLENBQUM7O0FBRXJCLFNBQU8sWUFBVztBQUNoQixRQUFJLFlBQVksQ0FBQztBQUNqQixXQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUMvQixXQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUM7O0FBQUMsR0FFckMsQ0FBQztDQUNIOzs7Ozs7Ozs7QUFBQSxBQVVELElBQUksWUFBWSxHQUFHLENBQUMsQ0FBQzs7QUFFckIsU0FBUyxXQUFXLEdBQUc7QUFDckIsU0FBTyxZQUFXO0FBQ2hCLFdBQU8sWUFBWSxFQUFFLENBQUM7R0FDdkIsQ0FBQztDQUNIOztBQUVELElBQUksT0FBTyxHQUFHLFdBQVcsRUFBRSxDQUFDO0FBQzVCLElBQUksUUFBUSxHQUFHLFdBQVcsRUFBRSxDQUFDOztBQUU3QixPQUFPLEVBQUU7QUFBQyxBQUNWLE9BQU8sRUFBRTs7QUFBQyxBQUVWLFFBQVEsRUFBRTtBQUFDLEFBQ1gsUUFBUSxFQUFFOzs7QUFBQyIsImZpbGUiOiJjbG9qdXJlcy8wMi5sZXhpY2FsX2Vudmlyb25tZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gc2F5SGkobmFtZSkge1xuICB2YXIgcGhyYXNlID0gXCLQn9GA0LjQstC10YIsIFwiICsgbmFtZTtcbiAgcmV0dXJuIHBocmFzZVxufVxudmFyIHJlc3VsdCA9IHNheUhpKCfQktCw0YHRjycpO1xuXG5cbi8qU3RhZ2UgMTogZnVuY3Rpb24gaW5pdGlhbGl6YXRpb25cbiAgYS4gY3JlYXRlIExleGljYWxFbnZpcm9ubWVudCBvYmplY3RcbiAgYi4gd3JpdGUgYXJndW1lbnRzXG4gIGMuIHdyaXRlIHZhcmlhYmxlcyAoc2ltaWxhciB0byBnbG9iYWwgb2JqZWN0KVxuKi9cbmZ1bmN0aW9uIHNheUhpKG5hbWUpIHtcbiAgLy8gTGV4aWNhbEVudmlyb25tZW50ID0geyBuYW1lOiAn0JLQsNGB0Y8nLCBwaHJhc2U6IHVuZGVmaW5lZCB9XG4gIHZhciBwaHJhc2UgPSBcItCf0YDQuNCy0LXRgiwgXCIgKyBuYW1lO1xuICByZXR1cm4gcGhyYXNlXG59XG52YXIgcmVzdWx0ID0gc2F5SGkoJ9CS0LDRgdGPJyk7XG5cblxuXG5cbi8qU3RhZ2UgMjogZnVuY3Rpb24gZXhlY3V0aW9uXG4qL1xuZnVuY3Rpb24gc2F5SGkobmFtZSkge1xuICAvLyBMZXhpY2FsRW52aXJvbm1lbnQgPSB7IG5hbWU6ICfQktCw0YHRjycsIHBocmFzZTogdW5kZWZpbmVkIH1cbiAgdmFyIHBocmFzZSA9IFwi0J/RgNC40LLQtdGCLCBcIiArIG5hbWU7XG5cbiAgLy8gTGV4aWNhbEVudmlyb25tZW50ID0geyBuYW1lOiAn0JLQsNGB0Y8nLCBwaHJhc2U6ICfQn9GA0LjQstC10YIsINCS0LDRgdGPJ31cbiAgcmV0dXJuIHBocmFzZVxufVxuXG52YXIgcmVzdWx0ID0gc2F5SGkoJ9CS0LDRgdGPJyk7XG5cblxuLypTdGFnZSAzOiBnYXJiYWdlIGNvbGxlY3Rpb25cbiAgYS4gRGVsZXRlIExleGljYWxFbnZpcm9ubWVudFxuICBiLiBDbGVhciBtZW1vcnlcbiovXG5cblxuXG5cblxuLyrQoWxvanVyZSBleGFtcGxlOlxuICDQt9Cw0LzRi9C60LDQvdC40LUgLSDQvtCx0LvQsNGB0YLRjCDQstC90LXRiNC90LjRhSDQv9C10YDQtdC80LXQvdC90YvRhSDQtNC+0YHRgtGD0L/QvdGL0YUg0YTRg9C90LrRhtC40LhcbiAg0L/QtdGA0LXQvNC10L3QvdCw0Y8g0LHQtdGA0LXRgtGB0Y8g0LjQtyDQt9Cw0LzRi9C60LDQvdC40Y8gLSDQuNC3INCy0L3QtdGI0L3QtdC5INC+0LHQu9Cw0YHRgtC4LlxuKi9cblxuXG5mdW5jdGlvbiBtYWtlQ291bnQgKCkge1xuICAvKkNMT0pVUkUgU1RBUlQqL1xuXG4gIHZhciBjdXJyZW50Q291bnQgPSAxO1xuXG4gIC8qQ0xPSlVSRSBFTkQqL1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjdXJyZW50Q291bnQrKzsgXG4gICAgLy8g0YHQvdCw0YfQsNC70LAg0LLQvtC30LLRgNCw0YnQsNC10YIsINCwINC/0L7RgtC+0Lwg0YPQstC10LvQuNGH0LjQstCw0LXRgiAhISEgXG4gICAgLy8gKNGB0YPRhNGE0LjQutC90YvQuSDQtNC10LrRgNC10LzQtdC90YIsINGBINC/0YDQtdGE0LjQutGB0L3Ri9C8INCy0L7Qt9Cy0YDQsNGJ0LDQu9C+INCx0Ysg0YPQttC1INGD0LLQtdC70LjRh9C10L3QvdC+0LUg0LfQvdCw0YfQtdC90LjQtSBjdXJyZW50Q291bnQpXG4gIH1cbn1cblxudmFyIGMxID0gbWFrZUNvdW50KClcblxuY29uc29sZS5sb2coYzEoKSkgLy8xXG5jb25zb2xlLmxvZyhjMSgpKSAvLzJcbmNvbnNvbGUubG9nKGMxKCkpIC8vM1xuXG5cbi8vRWFjaCBjb3VudGVyIGFyZSBpbmRlcGVuZGVudFxudmFyIGMyID0gbWFrZUNvdW50KClcbmNvbnNvbGUubG9nKGMyKCkpIC8vMVxuXG5cblxuXG5cbi8qRnVuY3Rpb24gUHJvcGVydGllc1xuICBpbiBKUyBlYWNoIGZ1bmN0aW9uIGlzIG9iamVjdCwgc28gaXQgY2FuIGhhdmUgcHJvcGVydGllc1xuICBDbG9qdXJlIGlzIGJldHRlciB0aGFuIGFjY2VzcyB0byBmdW5jdGlvbiBwcm9wZXJ0aWVzLCBiZWNhdXNlIHlvdSBjYW4gYWNjZXNzIGRpcmVjdGx5IHRvIHRoaXMgcHJvcGVydHlcbiovXG5cbnZhciBmID0gZnVuY3Rpb24gKCkge31cbmYudGVzdCA9IDVcblxuXG5mdW5jdGlvbiBtYWtlQ291bnRlcigpe1xuICBmdW5jdGlvbiBjb3VudCgpe1xuICAgIHJldHVybiBjb3VudC5jb3VudGVyKys7XG4gIH1cbiAgY291bnQuY291bnRlciA9IDE7XG5cbiAgcmV0dXJuIGNvdW50OyAvL25vIGV2YWx1YXRpb24gISEhIGNvdW50KClcbn1cblxuXG52YXIgZiA9IG1ha2VDb3VudCgpO1xuXG5jb25zb2xlLmxvZyhmKCkpIC8vMVxuZi5jb3VudGVyID0gNTtcbmNvbnNvbGUubG9nKGYoKSkgLy81XG5cblxuXG4vKtCX0LDQtNCw0YfQsDogMSovXG5zYXkoJ9CS0LDRgdGPJyk7IC8vINCn0YLQviDQstGL0LLQtdC00LXRgj8g0J3QtSDQsdGD0LTQtdGCINC70Lgg0L7RiNC40LHQutC4P1xuXG52YXIgcGhyYXNlID0gJ9Cf0YDQuNCy0LXRgic7XG5cbmZ1bmN0aW9uIHNheShuYW1lKSB7XG4gIHJldHVybiAobmFtZSArIFwiLCBcIiArIHBocmFzZSk7XG59XG5cbi8q0KDQtdGI0LXQvdC40LU6INCy0LXRgNC90LXRgiAn0JLQsNGB0Y8sIHVuZGVmaW5lZCcuINCe0YjQuNCx0LrQuCDQvdC1INCx0YPQtNC10YIsINGCLtC6LiDQv9C10YDQtdC80LXQvdC90LDRjyBwaHJhc2Ug0LjQvdC40YbQuNCw0LvQuNC30LjRgNC+0LLQsNC90LAg0YHQviDQt9C90LDRh9C10L3QuNC10LwgdW5kZWZpbmVkLlxu0KTRg9C90LrRhtC40Y8g0LLRi9C/0L7Qu9C90LjRgtGB0Y8g0L/QvtGC0L7QvNGDINGH0YLQviDQvtC90LAg0YPQttC1INC00L7RgdGC0YPQv9C90LAg0LIgR2xvYmFsIE9iamVjdCovXG5cblxuXG4vKtCX0LDQtNCw0YfQsDogMlxu0LAuINC60LDQutC40Lwg0LHRg9C00LXRgiDRgNC10LfRg9C70YzRgtCw0YI/XG7QsS4g0LjQt9C80LXQvdC40YLRgdGPINC70LggdmFsdWU/XG7Qsi4g0YfRgtC+INC40LfQvNC10L3QuNGC0YHRjyDQtdGB0LvQuCDRg9Cx0YDQsNGC0YwgdmFyINC40Lcg0YHRgtGA0L7QutC4IHZhciB2YWx1ZSA9IGZhbHNlXG4qL1xudmFyIHZhbHVlID0gMDtcblxuZnVuY3Rpb24gZigpIHtcbiAgaWYgKDEpIHtcbiAgICB2YWx1ZSA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHZhbHVlID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuZigpO1xuXG4vKtCg0LXRiNC10L3QuNC1Olxu0LAuIHRydWVcbtCxLiDQuNC30LzQtdC90LjRgtGB0Y8gKNC90LXQv9GA0LDQstC40LvRjNC90L46INC90LUg0LjQt9C80LXQvdC40YLRgdGPKVxu0LIuINC90LjRh9C10LPQvi4g0LjQvdGC0LXRgNC/0YDQtdGC0LDRgtC+0YAg0L3QtSDQsdGD0LTQtdGCINC30LDRhdC+0LTQuNGC0Ywg0LIg0Y3RgtGDINGH0LDRgdGC0YwsINGCLtC6LiDRg9GB0LvQvtCy0LjQtSDQu9C+0LbQvdC+ICAo0YfQsNGB0YLQuNGH0L3QvjopKi9cblxuXG5cblxuXG4vKtCX0LDQtNCw0YfQsDogM1xu0JrQsNC60L7QuSDRgNC10LfRg9C70YzRgtCw0YI/XG4qL1xuXG5mdW5jdGlvbiB0ZXN0KCkge1xuICB2YXIgcmVzdWx0O1xuICByZXN1bHQgPSB3aW5kb3c7XG4gIFxuICB2YXIgd2luZG93ID0gNTtcbiAgcmVzdWx0ID0gd2luZG93O1xufVxudGVzdCgpO1xuXG4vKtCg0LXRiNC10L3QuNC1ICjQvdC10L/RgNCw0LLQuNC70YzQvdC+LCDQt9Cw0LHRi9C7INGH0YLQviDQstC90YPRgtGA0Lgg0YTRg9C90LrRhtC40Lgg0LHRg9C00LXRgiDRgdC+0LfQtNCw0L3QsCDQu9C+0LrQsNC70YzQvdCw0Y8g0L/QtdGA0LXQvNC10L3QvdCw0Y8gd2luZG93KVxuW09iamVjdDogb2JqZWN0XVxu0LfQsNGC0LXQvCDQvtGI0LjQsdC60LAgLSDQvdC10LTQvtC/0YPRgdGC0LjQvNC+0LUg0LjQvNGPINC/0LXRgNC10LzQtdC90L3QvtC5Ki9cblxuLyrQn9GA0LDQstC40LvRjNC90L7QtSDRgNC10YjQtdC90LjQtTogdW5kZWZpbmVkLCA1XG4gINCx0YPQtNC10YIg0L7QsdGK0Y/QstC70LXQvdCwINC70L7QutCw0LvRjNC90LDRjyDQv9C10YDQtdC80LXQvdC90LDRjyB3aW5kb3cg0LIgTEUg0YTRg9C90LrRhtC40LggdGVzdCgpXG4gINC30LDRgtC10Lwg0YHRgtCw0L3QtNCw0YDRgtC90YvQtSDRgdGC0LDQtNC40Lg6INC40L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINGBIHVuZGVmaW5lZCwg0LfQsNGC0LXQvCDQv9GA0LjRgdCy0L7QtdC90LjQtVxuKi9cblxuXG5cblxuLyrQl9Cw0LTQsNGH0LAgNFxuICDQmtCw0LrQvtC5INGA0LXQt9GD0LvRjNGC0LDRgiDQstGL0L/QvtC70L3QtdC90LjRjz8g0J/QvtGH0LXQvNGDP1xuKi9cblxudmFyIGEgPSA1XG5cbihmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGE7XG59KSgpXG5cblxuLyrQoNC10YjQtdC90LjQtTogdW5kZWZpbmVkICjQvdC10L/RgNCw0LLQuNC70YzQvdC+IClcbtGC0LDQuiDQutCw0Log0LIgR08g0LfQsNC/0LjRgdCw0L3QsCDRgdCw0LzQvtCy0YvQt9GL0LLQsNGO0YnQsNGP0YHRjyDRhNGD0L3QutGG0LjRjyDQvtC90LAg0LjRgdC/0L7Qu9C90Y/QtdGC0YHRjyDQsiDQvdCw0YfQsNC70LUg0YHRgtCw0LTQuNC4INC40YHQv9C+0LvQvdC10L3QuNGPLlxu0J/QtdGA0LXQvNC10L3QvdCw0Y8gJ2EnINCyINGN0YLQvtGCINC80L7QvNC10L3RgiDQvtC/0YDQtdC00LXQu9C10L3QsCDRgdC+INC30L3QsNGH0LXQvdC40LXQvCB1bmRlZmluZWQuXG4qL1xuXG4vKtCf0YDQsNCy0LjQu9GM0L3QvtC1INGA0LXRiNC10L3QuNC1OiDQv9GA0L7QuNC30L7QudC00LXRgiDQvtGI0LjQsdC60LAsINGC0Log0L7RgtGB0YPRgtGB0YLQstGD0LXRgiA7INC/0L7RgdC70LUg0LTQtdC60LvQsNGA0LDRhtC40LggdmFyIGEgPSA1XG7Qv9C+0L/Ri9GC0LDQtdGC0YHRjyDQstGL0LfQstCw0YLRjNGB0Y8gNShmdW5jdGlvbigpey4uLn0pXG7QntC/0LDRgdC90YvQuSDQv9C+0LTQstC+0LTQvdGL0Lkg0LrQsNC80LXQvdGMINC00LvRjyDRgtC10YUg0LrRgtC+INC90LUg0YHRgtCw0LLQuNGCIDtcbiovXG5cblxuXG4vKtCX0LDQtNCw0YfQsCA1XG4qL1xuXG5mdW5jdGlvbiBtYWtlQ291bnRlcigpIHtcbiAgdmFyIGN1cnJlbnRDb3VudCA9IDE7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBjdXJyZW50Q291bnQ7XG4gICAgY29uc29sZS5sb2codGhpcy5jdXJyZW50Q291bnQpO1xuICAgIGNvbnNvbGUubG9nKG1ha2VDb3VudC5jdXJyZW50Q291bnQpO1xuICAgIC8vINC80L7QttC90L4g0LvQuCDQt9C00LXRgdGMINCy0YvQstC10YHRgtC4IGN1cnJlbnRDb3VudCDQuNC3INCy0L3QtdGI0L3QtdC5INGE0YPQvdC60YbQuNC4ICjRgNCw0LLQvdGL0LkgMSk/XG4gIH07XG59XG5cbi8q0KDQtdGI0LXQvdC40LUgKNC90LXQv9GA0LDQstC40LvRjNC90L4pOiDQvNC+0LbQvdC+IGMg0L/QvtC80L7RidGM0Y4g0L7QsdGA0LDRidC10L3QuNGPINC6INC60L7QvdGC0LXQutGB0YLRgyDQstC90YPRgtGA0LXQvdC90LXQuSDRhNGD0L3QutGG0LjQuCwg0LrQvtGC0L7RgNC+0Lkg0Y/QstC70Y/QtdGC0YHRjyBtYWtlQ291bnRlciAo0YfQtdGA0LXQtyB0aGlzKVxu0LjQu9C4INC90LDQv9GA0Y/QvNGD0Y4g0YfQtdGA0LXQtyBtYWtlQ291bnRlci5jdXJyZW50Q291bnQgICovXG5cbi8q0J/RgNCw0LLQuNC70YzQvdC+0LUg0YDQtdGI0LXQvdC40LU6INCd0LXQu9GM0LfRjy4g0JvQvtC60LDQu9GM0L3QsNGPINC/0LXRgNC10LzQtdC90L3QsNGPINC/0L7Qu9C90L7RgdGC0YzRjiDQv9C10YDQtdC60YDRi9Cy0LDQtdGCINCy0L3QtdGI0L3RjtGOLiovXG5cblxuLyrQl9Cw0LTQsNGH0LAgNlxuKi9cbnZhciBjdXJyZW50Q291bnQgPSAxO1xuXG5mdW5jdGlvbiBtYWtlQ291bnRlcigpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBjdXJyZW50Q291bnQrKztcbiAgfTtcbn1cblxudmFyIGNvdW50ZXIgPSBtYWtlQ291bnRlcigpO1xudmFyIGNvdW50ZXIyID0gbWFrZUNvdW50ZXIoKTtcblxuY291bnRlcigpOyAvLyA/XG5jb3VudGVyKCk7IC8vID9cblxuY291bnRlcjIoKTsgLy8gP1xuY291bnRlcjIoKTsgLy8gP1xuXG4vKtCg0LXRiNC10L3QuNC1OiAxIDIgMyA0LiDQn9C+0YLQvtC80YMg0YfRgtC+INC00LvRjyDQvtCx0LXQuNGFINGB0YfQtdGC0YfQuNC60L7QsiDQsdGD0LTQtdGCINC40YHQv9C+0LvRjNC30L7QstCw0YLRjNGB0Y8g0L7QtNC90LAg0Lgg0YLQsCDQttC1INC/0LXRgNC10LzQtdC90L3QsNGPIGN1cnJlbnRDb3VudC4qL1xuXG5cblxuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
